import {useEffect, useRef} from 'react';
import {useTranslation} from 'react-i18next';

import gsap from 'gsap/dist/gsap';
import styled from 'styled-components';

import {Feature} from '@molecules';

import {FeatureWrapperProps} from './utils';

const InnerWrapper = styled.div`
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;

  margin-bottom: 15px;
`;

const Ventilation: React.FC<FeatureWrapperProps> = props => {
  const ref = useRef<SVGPathElement>(null);

  const {t} = useTranslation('translation', {keyPrefix: 'SvitHome.Overview.FeaturesSection.Ventilation'});

  useEffect(() => {
    if (ref && ref.current) {
      const tl = gsap.timeline({repeat: -1});

      tl.fromTo(
        ref.current,
        {
          rotate: 0,
        },
        {rotate: 360, ease: 'none', duration: 1, transformOrigin: '46.4px 46.4px'}
      );
    }
  }, []);

  return (
    <Feature title={t('Title')} description={t('Description')} align="bottom" {...props}>
      <InnerWrapper>
        <svg width="132" height="132" viewBox="0 0 132 132" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M60.6844 0.082077C60.1564 0.137283 58.6572 0.331177 57.3534 0.498138C46.0821 1.88635 34.0606 6.96529 24.7317 14.2915C22.2331 16.2614 16.2365 22.2573 14.2645 24.755C7.10145 33.8585 2.35346 44.8216 0.520259 56.5333C-0.17342 61.0022 -0.17342 70.9379 0.520259 75.4055C3.96306 97.3302 17.151 115.482 36.7788 125.196C49.7997 131.635 64.3481 133.549 78.8682 130.746C88.7238 128.831 99.1357 123.974 107.186 117.591C126.898 101.854 136.004 75.7381 130.34 51.1204C129.341 46.7632 127.287 41.0178 125.205 36.7992C115.544 17.2901 97.3039 3.96803 75.6759 0.609909C72.8999 0.193848 62.8489 -0.167023 60.6844 0.082077ZM69.9851 3.02414C70.7905 3.66237 71.5125 5.07752 71.5125 6.04968C71.5125 7.04877 70.6235 8.54739 69.7359 9.10214C68.6529 9.76865 66.9868 9.76866 65.9321 9.15736C65.0997 8.65781 64.0167 6.8266 64.0167 5.90965C64.0167 4.99404 64.9327 3.46713 65.7934 2.93932C66.9868 2.19202 68.9856 2.24722 69.9851 3.02414ZM73.0103 12.8211C90.6122 15.125 105.938 26.0597 113.989 42.1017C121.401 56.8389 121.401 75.1012 114.017 89.7819C105.938 105.851 90.6122 116.814 73.0103 119.118C50.2455 122.087 28.2836 110.403 17.9282 89.8371C10.516 75.0999 10.516 56.8376 17.9282 42.1003C25.9237 26.1701 41.194 15.2071 58.6572 12.8198C62.4058 12.3216 69.1513 12.3216 73.0103 12.8211ZM7.65639 62.8052C10.7382 64.6364 9.43301 69.5766 5.85148 69.5766C3.04713 69.5766 1.27051 66.7463 2.52048 64.2755C3.4364 62.5561 5.96328 61.8343 7.65639 62.8052ZM127.621 62.999C128.232 63.4151 128.704 64.0533 128.981 64.8033C130.342 68.7445 124.761 71.4913 122.457 67.9945C121.79 66.9671 121.763 64.9689 122.457 63.9429C123.54 62.3056 125.928 61.8613 127.621 62.999ZM69.5406 122.531C70.0686 122.808 70.734 123.475 71.0114 124.001C72.8433 127.443 68.7068 130.968 65.5698 128.609C63.8484 127.277 63.6261 125.084 65.0701 123.391C66.2648 121.948 67.8744 121.644 69.5406 122.531Z"
            fill="black"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M54.1023 24.1887C56.3517 21.8413 60.3225 19.9957 64.2919 19.437C73.8148 18.0674 85.8631 21.5335 90.9182 27.096C94.9442 31.5114 93.1662 36.0392 85.2543 41.4621C82.0607 43.6413 79.3682 46.2408 77.0084 49.4276C76.0924 50.6575 75.2587 51.8318 75.1482 52.0271C75.0095 52.2793 74.4815 52.1112 73.0376 51.4128C70.733 50.2398 69.0951 49.8479 66.3191 49.8479C64.0145 49.8479 61.5159 50.4066 59.4887 51.3572L58.1836 52L56.8232 49.7354C50.1598 38.5561 49.1604 29.3322 54.1023 24.1887ZM108.652 76.662C109.56 79.7837 109.173 84.1453 107.672 87.8623C104.097 96.7941 95.0712 105.495 87.7264 107.092C81.8896 108.371 78.8574 104.567 78.117 95.0037C77.8265 91.1484 76.9215 87.5168 75.3417 83.8798C74.7345 82.4716 74.1343 81.1624 74.0204 80.9691C73.8714 80.7228 74.281 80.3496 75.6078 79.4484C77.7759 78.039 78.9342 76.8165 80.3223 74.4124C81.4746 72.4165 82.24 69.9734 82.4303 67.7425L82.5263 66.2908L85.1677 66.245C98.1809 66.064 106.669 69.8105 108.652 76.662ZM78 66C78 72.6274 72.6274 78 66 78C59.3726 78 54 72.6274 54 66C54 59.3726 59.3726 54 66 54C72.6274 54 78 59.3726 78 66ZM41.1517 101.598C37.9087 101.369 33.9511 99.4951 30.984 96.7998C23.8431 90.3524 18.8064 78.8716 19.8524 71.4284C20.674 65.5099 25.2925 63.9827 34.5204 66.6002C38.2377 67.6629 41.958 68.0716 45.9171 67.8491C47.4484 67.7672 48.8845 67.6576 49.1052 67.6177C49.3879 67.5632 49.5961 68.0767 49.9821 69.6335C50.5534 72.1556 51.299 73.6656 53.0736 75.8003C54.5469 77.5725 56.5738 79.1368 58.6007 80.0879L59.9293 80.6807L59.0575 83.1745C54.7204 95.445 48.2662 102.11 41.1517 101.598Z"
            fill="black"
            ref={ref}
          />
        </svg>
      </InnerWrapper>
    </Feature>
  );
};

export default Ventilation;
